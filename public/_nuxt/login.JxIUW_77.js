var B=Object.defineProperty;var N=(n,e,t)=>e in n?B(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var i=(n,e,t)=>(N(n,typeof e!="symbol"?e+"":e,t),t);import{_ as W}from"./nuxt-img.V27qFp3C.js";import j from"./Icon.BeZjWSQ3.js";import{_ as M}from"./nuxt-link.YH15dfVz.js";import{f as q,v as P,x as R,k as g,o as h,c as $,a as o,b as x,u as c,h as m,w as b,d,y as w,z as S,A as v,B as Z,C as K,K as L,D as G,n as H}from"./entry.Gjo7gIn_.js";import{a as J}from"./index.BShuePCU.js";import"./vue.f36acd1f.BhRTIr_E.js";import"./index.CzCfPO9Z.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";class O{constructor(e){i(this,"Id");this.Id=e}getID(){return this.Id}}class U extends O{constructor(t,s,r,a,p){super(t);i(this,"_accountType");i(this,"_nick");i(this,"_email");i(this,"_password");this._nick=r,this._email=a,this._password=p,this._accountType=s}get nick(){return this._nick}set nick(t){this._nick=t}get type(){return this._accountType}set type(t){this._accountType=t}get email(){return this._email}set email(t){this._email=t}get password(){return this._password}set password(t){this._password=t}}class C extends U{constructor(e,t,s,r){super(e,"user",t,s,r)}}class Q extends U{constructor(e,t,s,r){super(e,"admin",t,s,r)}}class X{constructor(e){i(this,"_accountType");this._accountType=e||"user"}get acccountType(){return this._accountType}set accountType(e){this._accountType=e}create(e,t,s,r,a){return t==="user"?new C(e,s,r,a):new Q(e,s,r,a)}}const A=(n="",e="")=>({key:"auth",value:n+e}),T=(n="",e="")=>({key:"auth",value:n+e});class Y{constructor(){i(this,"_users",[]);i(this,"_accountF",new X("user"));this._users.push(new C("1","ramdom","random@gmail.com","1230123"))}getUsers(){return this._users}insertUser(e,t,s,r){this._accountF.accountType="user";const a=this._accountF.create(e,this._accountF.accountType,t,s,r);this._users.push(a)}}class ee{constructor(e){i(this,"keepAlive");i(this,"UserCollection",new Y);this.keepAlive=e}login(e,t){const s=this.UserCollection.getUsers().find(r=>r.email===e&&r.password===t)??!1;return s&&this.keepAlive?(T(s.nick,s.getID()),{loggedWith:"storage",success:!0}):s&&!this.keepAlive?(A(s.nick,s.getID()),{loggedWith:"session",success:!0}):{loggedWith:null,success:!1,message:"Account unexists"}}logout(){return T()?!0:!!A()}register(e,t,s,r){this.UserCollection.insertUser(e,t,s,r);const a=this.UserCollection.getUsers().find(p=>p.getID()===e);if(a)return this.keepAlive?(T(t,a==null?void 0:a.getID()),{loggedWith:"storage",success:!0}):(A(t,a==null?void 0:a.getID()),{loggedWith:"session",success:!0});throw new Error("Error registering new Account")}}const te={class:"inline-flex flex-col md:landscape:flex-row lg:flex-row bg-neutral-lightgray dark:bg-neutral-darken relative min-h-svh w-full"},se={class:"flex-auto min-w-max lg:basis-1/3 lg:min-w-[600px] self-stretch inline-flex p-8 justify-center items-center bg-sunshine bg-center bg-cover bg-no-repeat relative overflow-hidden"},re=o("span",{class:"sr-only lg:not-sr-only"},"Voltar na pagína anterior",-1),ae=o("span",{class:"sr-only lg:not-sr-only"},"Ir ao início",-1),oe=o("h1",{class:"uppercase self-stretch text-secundary-950 dark:text-white break-keep text-center lg:text-left text-2xl lg:text-3xl"},[d(" Faça login"),o("br",{class:"lg:hidden"}),d(" na sua conta")],-1),ne={class:"self-stretch flex-col gap-6 flex"},le={class:"self-stretch flex-col gap-3 flex m-0 p-0"},ie={for:"email",class:"font-secundary font-bold uppercase gap-2 lg:gap-6 flex flex-col text-lg lg:text-2xl text-secundary-950 dark:text-white w-full relative group"},ce={class:"hidden peer-valid:block text-success-700 dark:text-success-500 absolute right-3 top-1/2 z-10 pointer-events-none"},ue={for:"password",class:"z-0 isolate font-secundary font-bold uppercase gap-2 lg:gap-6 flex flex-col text-lg lg:text-2xl text-secundary-950 dark:text-white w-full relative group"},de=["type"],pe={class:"inline-flex self-stretch items-center gap-3 text-secundary-950 dark:text-white font-secundary font-medium text-base lg:text-lg",for:"remember-login"},ge={class:"self-stretch justify-between items-center inline-flex"},ve=q({__name:"login",setup(n){var z;const e=P(),t=R(),s=g(""),r=g(""),a=g(!1),p=g(),I=g();async function D(){if(a.value!==void 0){const y=new ee(a.value),{success:l}=y.login(s.value,r.value);l?(alert("Bem vindo de volta"),p.value=!0):(alert("Dados incorretos ou conta inexistente"),p.value=!1)}}const k=g(!1),E=J(k),F=(z=t.redirectedFrom)==null?void 0:z.fullPath.startsWith("http://localhost/");return(y,l)=>{const V=W,f=j,_=M;return h(),$("div",te,[o("div",se,[x(V,{class:"size-[200px] lg:size-[300px] aspect-square rounded-full object-contain shadow-[0x 4px 24px] shadow-secundary-600",src:"/assets/images/brand/logo__mages.png",placeholder:"",format:"avif"}),c(F)?(h(),m(_,{key:0,onClick:l[0]||(l[0]=u=>c(e).back()),class:"pointer text-base lg:text-lg absolute top-lg right-lg p-2 lg:py-3 lg:px-6 bg-secundary-600 text-white dark:bg-white/10 dark:border border-neutral-dark/10 dark:border-white/30 rounded-xl"},{default:b(()=>[x(f,{name:"uil:arrow-left",class:"size-6"}),re]),_:1})):(h(),m(_,{key:1,onClick:l[1]||(l[1]=u=>("navigateTo"in y?y.navigateTo:c(H))("/")),class:"pointer text-base lg:text-lg absolute top-lg right-lg p-2 lg:py-3 lg:px-6 bg-secundary-600 text-white dark:bg-white/10 dark:border border-neutral-dark/10 dark:border-white/30 rounded-xl"},{default:b(()=>[x(f,{name:"mdi:home",class:"size-6"}),ae]),_:1}))]),o("form",{ref_key:"form",ref:I,class:"self-stretch flex-auto flex flex-col gap-8 lg:gap-16 justify-center items-center basis-full py-8 lg:py-16 px-16"},[oe,(h(),m(L,null,[o("div",ne,[o("fieldset",le,[o("label",ie,[d("Email "),w(o("input",{id:"email",type:"email",pattern:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}","onUpdate:modelValue":l[2]||(l[2]=u=>v(s)?s.value=u:null),class:"peer z-0 isolate self-stretch font-secundary font-medium px-3 lg:px-6 py-6 bg-white/40 dark:bg-white/10 rounded-xl inline-flex text-base lg:text-lg w-full text-neutral-dark dark:text-white placeholder:text-opacity-70 placeholder:font-medium caret-secundary-950 dark:caret-secundary-500 border-neutral-dark/10",autocomplete:"email",required:"",autofocus:""},null,512),[[S,c(s),void 0,{trim:!0}]]),o("span",ce,[x(f,{name:"uil:check-circle"})])]),o("label",ue,[d("Senha "),w(o("input",{id:"password",type:c(k)?"text":"password","onUpdate:modelValue":l[3]||(l[3]=u=>v(r)?r.value=u:null),class:"self-stretch font-secundary font-medium px-3 lg:px-6 py-6 bg-white/40 dark:bg-white/10 rounded-xl inline-flex text-base lg:text-lg w-full text-neutral-dark dark:text-white placeholder:text-opacity-70 placeholder:font-medium caret-secundary-950 dark:caret-secundary-500 border-neutral-dark/10",autocomplete:"current-password",required:""},null,8,de),[[Z,c(r)]]),o("button",{type:"button",onClick:l[4]||(l[4]=u=>c(E)()),class:"bg-transparent text-secundary-950 dark:text-white absolute z-20 right-3 top-1/2"},[c(k)?(h(),m(f,{key:0,name:"uil:eye"})):(h(),m(f,{key:1,name:"uil:eye-slash"}))])])]),o("label",pe,[w(o("input",{"onUpdate:modelValue":l[5]||(l[5]=u=>v(a)?a.value=u:null),type:"checkbox",id:"remember-login",class:"border-neutral-dark/10 block size-6 lg:size-7 rounded text-primary-600"},null,512),[[K,c(a)]]),d(" Lembrar login ")])])],1024)),o("div",ge,[x(_,{to:"#",class:"font-secundary font-medium transition-colors duration-200 ease block py-2 text-secundary-950 hover:active:text-secundary-900 dark:text-white dark:hover:active:text-white/80"},{default:b(()=>[d(" Esqueci a senha ")]),_:1}),x(_,{to:"#",class:"font-secundary font-medium transition-colors duration-200 ease block py-2 text-secundary-950 hover:active:text-secundary-900 dark:text-white dark:hover:active:text-white/80"},{default:b(()=>[d(" Não tenho conta ")]),_:1})]),o("button",{type:"submit",onClick:G(D,["prevent"]),class:"self-stretch pointer inline-flex font-secundary font-bold uppercase justify-center text-lg lg:text-2xl transition-colors duration-400 ease-in text-white rounded-xl py-3 px-6 lg:p-6 bg-gradient-to-b from-primary-600 to-primary-700 shadow-blur shadow-primary-700 hover:active:shadow-primary-600 disabled:bg-none disabled:shadow-none disabled:text-primary-950/70 dark:disabled:text-white"}," Fazer login ")],512)])}}});export{ve as default};
